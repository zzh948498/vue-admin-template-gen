import{t as Fe,g as He,h as Ke,i as $e,T as ke,d as x,a as je,j as ze,k as Le,D as Ge,C as qe}from"./el-checkbox-group-901df39c.js";import{b as Ce,d as Te,u as ce,_ as Ve,e as G,c as ae,f as We,g as Ye,E as z,l as Je,h as Ze,w as Qe}from"./base-836f92ac.js";import{f as Xe,E as en,i as nn,j as an,m as tn,d as sn,k as on,t as ln}from"./index-ca0a5373.js";import{d as W,M as rn,c as T,r as H,b,e as A,f as C,n as p,u as e,x as B,q as K,D as _,B as te,J as cn,y as un,j as se,w as oe,o as dn,m as O,p as L,C as ie,h as Se,K as pn,A as mn,U as we}from"./runtime-core.esm-bundler-a0133d29.js";import{e as Ie,S as fn,g as vn,b as hn}from"./el-checkbox-a68956b8.js";import{b as bn,i as gn}from"./el-tag-53c25442.js";import{o as le,U as ue,C as de,I as pe}from"./event-e8463f65.js";import{i as ye}from"./icon-a83cb564.js";import{i as kn}from"./el-select-bbb2ffe6.js";import{u as Sn}from"./el-button-c4b7bdc3.js";function wn(){}function yn(n,c,i,s){for(var m=n.length,d=i+(s?1:-1);s?d--:++d<m;)if(c(n[d],d,n))return d;return-1}function Cn(n){return n!==n}function Tn(n,c,i){for(var s=i-1,m=n.length;++s<m;)if(n[s]===c)return s;return-1}function Vn(n,c,i){return c===c?Tn(n,c,i):yn(n,Cn,i)}function In(n,c){var i=n==null?0:n.length;return!!i&&Vn(n,c,0)>-1}function Pn(n,c,i){for(var s=-1,m=n==null?0:n.length;++s<m;)if(i(c,n[s]))return!0;return!1}var En=1/0,_n=le&&1/Ie(new le([,-0]))[1]==En?function(n){return new le(n)}:wn;const Dn=_n;var An=200;function Nn(n,c,i){var s=-1,m=In,d=n.length,l=!0,r=[],g=r;if(i)l=!1,m=Pn;else if(d>=An){var V=c?null:Dn(n);if(V)return Ie(V);l=!1,m=vn,g=new fn}else g=c?[]:r;e:for(;++s<d;){var k=n[s],h=c?c(k):k;if(k=i||k!==0?k:0,l&&h===h){for(var N=g.length;N--;)if(g[N]===h)continue e;c&&g.push(h),r.push(k)}else m(g,h,i)||(g!==r&&g.push(h),r.push(k))}return r}var On=bn(function(n){return Nn(hn(n,1,gn,!0))});const re=On,Bn=Ce({...Fe,parsedValue:{type:Te(Array)}}),Rn=["disabled"],Mn=W({__name:"panel-time-range",props:Bn,emits:["pick","select-range","set-picker-option"],setup(n,{emit:c}){const i=n,s=(a,o)=>{const u=[];for(let v=a;v<=o;v++)u.push(v);return u},{t:m,lang:d}=Xe(),l=ce("time"),r=ce("picker"),g=rn("EP_PICKER_BASE"),{arrowControl:V,disabledHours:k,disabledMinutes:h,disabledSeconds:N,defaultValue:U}=g.props,D=T(()=>i.parsedValue[0]),I=T(()=>i.parsedValue[1]),f=He(i),R=()=>{c("pick",f.value,!1)},P=T(()=>i.format.includes("ss")),$=T(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),Y=(a=!1)=>{c("pick",[D.value,I.value],a)},t=a=>{F(a.millisecond(0),I.value)},S=a=>{F(D.value,a.millisecond(0))},J=a=>{const o=a.map(v=>x(v).locale(d.value)),u=ve(o);return o[0].isSame(u[0])&&o[1].isSame(u[1])},F=(a,o)=>{c("pick",[a,o],!0)},Pe=T(()=>D.value>I.value),j=H([0,2]),Ee=(a,o)=>{c("select-range",a,o,"min"),j.value=[a,o]},fe=T(()=>P.value?11:8),_e=(a,o)=>{c("select-range",a,o,"max");const u=e(fe);j.value=[a+u,o+u]},De=a=>{const o=P.value?[0,3,6,11,14,17]:[0,3,8,11],u=["hours","minutes"].concat(P.value?["seconds"]:[]),w=(o.indexOf(j.value[0])+a+o.length)%o.length,y=o.length/2;w<y?ee.start_emitSelectRange(u[w]):ee.end_emitSelectRange(u[w-y])},Ae=a=>{const o=a.code,{left:u,right:v,up:w,down:y}=en;if([u,v].includes(o)){De(o===u?-1:1),a.preventDefault();return}if([w,y].includes(o)){const E=o===w?-1:1,M=j.value[0]<fe.value?"start":"end";ee[`${M}_scrollDown`](E),a.preventDefault();return}},Z=(a,o)=>{const u=k?k(a):[],v=a==="start",y=(o||(v?I.value:D.value)).hour(),E=v?s(y+1,23):s(0,y-1);return re(u,E)},Q=(a,o,u)=>{const v=h?h(a,o):[],w=o==="start",y=u||(w?I.value:D.value),E=y.hour();if(a!==E)return v;const M=y.minute(),ne=w?s(M+1,59):s(0,M-1);return re(v,ne)},X=(a,o,u,v)=>{const w=N?N(a,o,u):[],y=u==="start",E=v||(y?I.value:D.value),M=E.hour(),ne=E.minute();if(a!==M||o!==ne)return w;const ge=E.second(),Ue=y?s(ge+1,59):s(0,ge-1);return re(w,Ue)},ve=([a,o])=>[he(a,"start",!0,o),he(o,"end",!1,a)],{getAvailableHours:Ne,getAvailableMinutes:Oe,getAvailableSeconds:Be}=Ke(Z,Q,X),{timePickerOptions:ee,getAvailableTime:he,onSetOption:be}=$e({getAvailableHours:Ne,getAvailableMinutes:Oe,getAvailableSeconds:Be}),Re=a=>a?te(a)?a.map(o=>x(o,i.format).locale(d.value)):x(a,i.format).locale(d.value):null,Me=a=>a?te(a)?a.map(o=>o.format(i.format)):a.format(i.format):null,xe=()=>{if(te(U))return U.map(o=>x(o).locale(d.value));const a=x(U).locale(d.value);return[a,a.add(60,"m")]};return c("set-picker-option",["formatToString",Me]),c("set-picker-option",["parseUserInput",Re]),c("set-picker-option",["isValidValue",J]),c("set-picker-option",["handleKeydownInput",Ae]),c("set-picker-option",["getDefaultValue",xe]),c("set-picker-option",["getRangeAvailableTime",ve]),(a,o)=>a.actualVisible?(b(),A("div",{key:0,class:p([e(l).b("range-picker"),e(r).b("panel")])},[C("div",{class:p(e(l).be("range-picker","content"))},[C("div",{class:p(e(l).be("range-picker","cell"))},[C("div",{class:p(e(l).be("range-picker","header"))},B(e(m)("el.datepicker.startTime")),3),C("div",{class:p([e(l).be("range-picker","body"),e(l).be("panel","content"),e(l).is("arrow",e(V)),{"has-seconds":e(P)}])},[K(ke,{ref:"minSpinner",role:"start","show-seconds":e(P),"am-pm-mode":e($),"arrow-control":e(V),"spinner-date":e(D),"disabled-hours":Z,"disabled-minutes":Q,"disabled-seconds":X,onChange:t,onSetOption:e(be),onSelectRange:Ee},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),C("div",{class:p(e(l).be("range-picker","cell"))},[C("div",{class:p(e(l).be("range-picker","header"))},B(e(m)("el.datepicker.endTime")),3),C("div",{class:p([e(l).be("range-picker","body"),e(l).be("panel","content"),e(l).is("arrow",e(V)),{"has-seconds":e(P)}])},[K(ke,{ref:"maxSpinner",role:"end","show-seconds":e(P),"am-pm-mode":e($),"arrow-control":e(V),"spinner-date":e(I),"disabled-hours":Z,"disabled-minutes":Q,"disabled-seconds":X,onChange:S,onSetOption:e(be),onSelectRange:_e},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),C("div",{class:p(e(l).be("panel","footer"))},[C("button",{type:"button",class:p([e(l).be("panel","btn"),"cancel"]),onClick:o[0]||(o[0]=u=>R())},B(e(m)("el.datepicker.cancel")),3),C("button",{type:"button",class:p([e(l).be("panel","btn"),"confirm"]),disabled:e(Pe),onClick:o[1]||(o[1]=u=>Y())},B(e(m)("el.datepicker.confirm")),11,Rn)],2)],2)):_("v-if",!0)}});var xn=Ve(Mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);x.extend(je);var Un=W({name:"ElTimePicker",install:null,props:{...ze,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,c){const i=H(),[s,m]=n.isRange?["timerange",xn]:["time",Le],d=l=>c.emit("update:modelValue",l);return cn("ElPopperOptions",n.popperOptions),c.expose({focus:l=>{var r;(r=i.value)==null||r.handleFocusInput(l)},blur:l=>{var r;(r=i.value)==null||r.handleBlurInput(l)},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}}),()=>{var l;const r=(l=n.format)!=null?l:Ge;return K(qe,un(n,{ref:i,type:s,format:r,"onUpdate:modelValue":d}),{default:g=>K(m,g,null)})}}});const q=Un;q.install=n=>{n.component(q.name,q)};const oa=q,Fn=Ce({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:ye},inactiveIcon:{type:ye},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Te(Function)},size:{type:String,validator:kn},tabindex:{type:[String,Number]}}),Hn={[ue]:n=>G(n)||se(n)||ae(n),[de]:n=>G(n)||se(n)||ae(n),[pe]:n=>G(n)||se(n)||ae(n)},Kn=["onClick"],$n=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],jn=["aria-hidden"],zn=["aria-hidden"],Ln=["aria-hidden"],me="ElSwitch",Gn=W({name:me}),qn=W({...Gn,props:Fn,emits:Hn,setup(n,{expose:c,emit:i}){const s=n,m=pn(),{formItem:d}=nn(),l=an(),r=ce("switch");Sn({from:'"value"',replacement:'"model-value" or "v-model"',scope:me,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},T(()=>{var t;return!!((t=m.vnode.props)!=null&&t.value)}));const{inputId:g}=tn(s,{formItemContext:d}),V=sn(T(()=>s.loading)),k=H(s.modelValue!==!1),h=H(),N=H(),U=T(()=>[r.b(),r.m(l.value),r.is("disabled",V.value),r.is("checked",f.value)]),D=T(()=>({width:We(s.width)}));oe(()=>s.modelValue,()=>{k.value=!0}),oe(()=>s.value,()=>{k.value=!1});const I=T(()=>k.value?s.modelValue:s.value),f=T(()=>I.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(I.value)||(i(ue,s.inactiveValue),i(de,s.inactiveValue),i(pe,s.inactiveValue)),oe(f,t=>{var S;h.value.checked=t,s.validateEvent&&((S=d==null?void 0:d.validate)==null||S.call(d,"change").catch(J=>on()))});const R=()=>{const t=f.value?s.inactiveValue:s.activeValue;i(ue,t),i(de,t),i(pe,t),mn(()=>{h.value.checked=f.value})},P=()=>{if(V.value)return;const{beforeChange:t}=s;if(!t){R();return}const S=t();[we(S),G(S)].includes(!0)||ln(me,"beforeChange must return type `Promise<boolean>` or `boolean`"),we(S)?S.then(F=>{F&&R()}).catch(F=>{}):S&&R()},$=T(()=>r.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),Y=()=>{var t,S;(S=(t=h.value)==null?void 0:t.focus)==null||S.call(t)};return dn(()=>{h.value.checked=f.value}),c({focus:Y,checked:f}),(t,S)=>(b(),A("div",{class:p(e(U)),style:Se(e($)),onClick:Ze(P,["prevent"])},[C("input",{id:e(g),ref_key:"input",ref:h,class:p(e(r).e("input")),type:"checkbox",role:"switch","aria-checked":e(f),"aria-disabled":e(V),name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:e(V),tabindex:t.tabindex,onChange:R,onKeydown:Ye(P,["enter"])},null,42,$n),!t.inlinePrompt&&(t.inactiveIcon||t.inactiveText)?(b(),A("span",{key:0,class:p([e(r).e("label"),e(r).em("label","left"),e(r).is("active",!e(f))])},[t.inactiveIcon?(b(),O(e(z),{key:0},{default:L(()=>[(b(),O(ie(t.inactiveIcon)))]),_:1})):_("v-if",!0),!t.inactiveIcon&&t.inactiveText?(b(),A("span",{key:1,"aria-hidden":e(f)},B(t.inactiveText),9,jn)):_("v-if",!0)],2)):_("v-if",!0),C("span",{ref_key:"core",ref:N,class:p(e(r).e("core")),style:Se(e(D))},[t.inlinePrompt?(b(),A("div",{key:0,class:p(e(r).e("inner"))},[t.activeIcon||t.inactiveIcon?(b(),O(e(z),{key:0,class:p(e(r).is("icon"))},{default:L(()=>[(b(),O(ie(e(f)?t.activeIcon:t.inactiveIcon)))]),_:1},8,["class"])):t.activeText||t.inactiveText?(b(),A("span",{key:1,class:p(e(r).is("text")),"aria-hidden":!e(f)},B(e(f)?t.activeText:t.inactiveText),11,zn)):_("v-if",!0)],2)):_("v-if",!0),C("div",{class:p(e(r).e("action"))},[t.loading?(b(),O(e(z),{key:0,class:p(e(r).is("loading"))},{default:L(()=>[K(e(Je))]),_:1},8,["class"])):_("v-if",!0)],2)],6),!t.inlinePrompt&&(t.activeIcon||t.activeText)?(b(),A("span",{key:1,class:p([e(r).e("label"),e(r).em("label","right"),e(r).is("active",e(f))])},[t.activeIcon?(b(),O(e(z),{key:0},{default:L(()=>[(b(),O(ie(t.activeIcon)))]),_:1})):_("v-if",!0),!t.activeIcon&&t.activeText?(b(),A("span",{key:1,"aria-hidden":!e(f)},B(t.activeText),9,Ln)):_("v-if",!0)],2)):_("v-if",!0)],14,Kn))}});var Wn=Ve(qn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ia=Qe(Wn);export{ia as E,oa as a};
