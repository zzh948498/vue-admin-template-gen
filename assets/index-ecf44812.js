import{g as B,h as F}from"./base-836f92ac.js";import{E as I}from"./el-button-c4b7bdc3.js";import"./el-form-item-4ed993c7.js";import{_ as C}from"./index-a10dbc98.js";import{v as P}from"./validate-63e2cccc.js";import{v as S,A as T,B as q}from"./index-e4f9590d.js";import{a as K,E as L}from"./index-2bebcbf2.js";import{E as g}from"./index-c68f2405.js";import{d as N,O as h,r as l,w as A,b as y,e as M,q as a,p,u as m,f as t,m as O,v as j,A as z,av as D,aw as G}from"./runtime-core.esm-bundler-a0133d29.js";import{_ as H}from"./plugin-vueexport-helper-c27b6911.js";import"./index-ca0a5373.js";import"./icon-a83cb564.js";import"./el-tooltip-a900fd7e.js";import"./el-scrollbar-c79efbb2.js";import"./index-488f5cca.js";import"./typescript-defaf979.js";import"./event-e8463f65.js";import"./initCloneObject-5bc7aa00.js";const x=i=>(D("data-v-e8d0d07b"),i=i(),G(),i),J={class:"login-container"},Q=x(()=>t("div",{class:"title-container"},[t("h3",{class:"title"},"Login Form")],-1)),W={class:"svg-container"},X={class:"svg-container"},Y=x(()=>t("div",{class:"tips"},[t("span",{style:{"margin-right":"20px"}},"username: admin"),t("span",null," password: any")],-1)),Z=N({__name:"index",setup(i){const b=S(),E=T(),V=q(),k=h({username:[{required:!0,trigger:"blur",validator:(e,s,o)=>{P(s)?o():o(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:(e,s,o)=>{s.length<6?o(new Error("The password can not be less than 6 digits")):o()}}]}),r=h({username:"admin",password:"111111"}),d=l(!1),n=l("password"),c=l(),_=l(),R=()=>{n.value==="password"?n.value="":n.value="password",z(()=>{var e;(e=_.value)==null||e.focus()})},f=l(),v=()=>{var e;(e=f.value)==null||e.validate(async s=>{if(s){d.value=!0;try{await b.login(r)}catch{d.value=!1;return}d.value=!1,E.push({path:c.value||"/"})}else return console.log("error submit!!"),!1})};return A(()=>V.query,e=>{c.value=e&&e.redirect},{immediate:!0}),(e,s)=>{const o=C,w=K,U=I;return y(),M("div",J,[a(m(L),{ref_key:"loginFormRef",ref:f,model:r,rules:k,class:"login-form","auto-complete":"on","label-position":"left"},{default:p(()=>[Q,a(w,{prop:"username",class:"mb-3"},{default:p(()=>[t("span",W,[a(o,{"icon-class":"user"})]),a(m(g),{ref:"username",modelValue:r.username,"onUpdate:modelValue":s[0]||(s[0]=u=>r.username=u),name:"username",type:"text",tabindex:"1","auto-complete":"on",placeholder:"Username"},null,8,["modelValue"])]),_:1}),a(w,{prop:"password",class:"mb-3 relative"},{default:p(()=>[t("span",X,[a(o,{"icon-class":"password"})]),(y(),O(m(g),{key:n.value,ref_key:"passwordRef",ref:_,modelValue:r.password,"onUpdate:modelValue":s[1]||(s[1]=u=>r.password=u),type:n.value,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on",onKeyup:B(v,["enter"])},null,8,["modelValue","type","onKeyup"])),t("span",{class:"show-pwd",onClick:R},[a(o,{"icon-class":n.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),a(U,{loading:d.value,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:F(v,["prevent"])},{default:p(()=>[j(" Login ")]),_:1},8,["loading","onClick"]),Y]),_:1},8,["model","rules"])])}}});const he=H(Z,[["__scopeId","data-v-e8d0d07b"]]);export{he as default};
